{
  "name": "thingspeakclient",
  "version": "0.4.0",
  "description": "node.js Client for ThingSpeak",
  "main": "thingspeakclient.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/imwebgefunden/thingspeakclient_node.git"
  },
  "bugs": {
    "url": "https://github.com/imwebgefunden/thingspeakclient_node/issues"
  },
  "homepage": "https://github.com/imwebgefunden/thingspeakclient_node",
  "author": {
    "name": "Thomas Schneider"
  },
  "devDependencies": {
    "grunt": "~0.4.2",
    "grunt-jsbeautifier": "~0.2.6",
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-contrib-nodeunit": "~0.2.2",
    "grunt-todo": "~0.1.0",
    "grunt-jsdoc": "~0.5.1",
    "sinon": "~1.8.2",
    "should": "~3.1.2",
    "grunt-mocha-test": "~0.9.0"
  },
  "directories": {
    "test": "test"
  },
  "keywords": [
    "thingspeak",
    "iot",
    "IoT",
    "sensor"
  ],
  "license": "GPL-3.0",
  "dependencies": {
    "async": "~0.2.10",
    "underscore": "~1.6.0",
    "request": "~2.34.0"
  },
  "readme": "# ThingSpeak-Client for node.js\n---\n\nA client for updating and reading channels and fields on [ThingSpeak](http://www.thingspeak.com) or your own [ThingSpeak-Installation](https://github.com/iobridge/thingspeak).\nThe complete [Channels-Api](http://community.thingspeak.com/documentation/api/#thingspeak_api) is implemented.\n\n## About ThingSpeak\nThingSpeak is an open source “Internet of Things” application and API to store and retrieve data from things using HTTP over the Internet or via a Local Area Network. With ThingSpeak,\nyou can create sensor logging applications, location tracking applications, and a social network of things with status updates.\n\n## Install\n```\n$ npm install thingspeakclient\n```\n\n## Usage\nThe module is easy to use.\n\n### First Steps\n\n```\nvar ThingSpeakClient = require('thingspeakclient');\nvar client = new ThingSpeakClient();\n```\n\n#### Default-Server\nThe default ThinkSpeak-URL is ```https://api.thingspeak.com```. You can change this with:\n\n```\nvar client = new ThingSpeakClient({server:'http://localhost:8000'});\n```\n#### Updatemode and update timeout settings\nThe open service via [ThingSpeak.com](http://www.thingspeak.com) has a rate limit of an update per channel every 15 seconds.\nIf you update to fast the channel isn't updated and you get an return value of 0 from an update request. To handle this situation\nthe client has two major modes:\n\n* ```useTimeoutMode: false``` - Every update request will be immediately forwarded to the server. If you are to fast your channel isn't updated.\n* ```useTimeoutMode: true``` - This is the default mode. Every update request to a single channel is queued and will be forwarded to the server after a timeout to the previously update request.\n If the queue is empty the request will be forwarded immediately. The default timeout value is 15 seconds between two update requests to the same\n channel. You can put your data in the queue as fast as you get the data. With the default update period of 15 seconds for example four updates are finished after a minute.\n Because every channel has an own update queue with own timer the updates between channels are not interfered. As an example: If the update queue for channel A has currently\n three requests and the queue for channel B is empty - a new request for B is forwarded immediately.\n\nChanging the mode and the timeout values:\n```\nvar client = new ThingSpeakClient({useTimeoutMode:false}); - disable client timeout handling between update request per channel\nvar client = new ThingSpeakClient({updateTimeout:20000}); - set the timeout to 20s (Note: 15 seconds is the default value), the timeout value is in milliseconds\n```\n\n### Attach a channel to the client\nAttaching a channel is required if you want update a channel. If you want only read channels (private or public) it is not necessary to attach the channel. But attaching makes read-handling\neasier. The attach method needs the channel-id and a write- or readkey or both for this channel. The ```callBack``` is optional.\n\nAttach a channel with write- and readkey:\n```\nclient.attachChannel(channelId, { writeKey:'yourWriteKey', readKey:'yourReadKey'}, callBack);\n```\nAttach a channel with only a writekey:\n```\nclient.attachChannel(channelId, { writeKey:'yourWriteKey'}, callBack);\n```\nAttach a channel with only a key for reading:\n```\nclient.attachChannel(channelId, { readKey:'yourReadKey'}, callBack);\n```\n\n### Updating a channel\nThe ```callBack``` is optional and give back ```error``` and ```response```. ```response``` is greater than 0 if update was successfully (sea ThinkSpeak-API for return value on update).\n```\nclient.updateChannel(channelId, fields, callback);\n```\nFields are an object with field and value. If you want update field 1 with a value of 7 and to field 2 with 5 use the following:\n```\n{field1: 7, field2: 5}\n```\nA complete example for updating channel 4711 with 7 on field1 and 6 on field2:\n```\nclient.updateChannel(4711, {field1: 7, field2: 6}, function(err, resp) {\n    if (!err && resp > 0) {\n        console.log('update successfully. Entry number was: ' + resp);\n    }\n};\n```\n\n### Reading data\nIf you want read data you can use one of the following methods:\n```\nclient.getChannelFeeds(channelId, query, callBack); - same as API-Method \"Retrieving Channel Feeds\"\nclient.getLastEntryInChannelFeed(channelId, query, callBack); - same as API-Method \"Retrieving the Last Entry in Channel Feed\"\nclient.getFieldFeed(channelId, fieldId, query, callback); - same as API-Method \"Retrieving a Field Feed\"\nclient.getLastEntryInFieldFeed(channelId, fieldId, query, callBack); - same as API-Method \"Retrieving the Last Entry in a Field Feed\"\nclient.getStatusUpdates(channelId, query, callBack); - same as API-Method \"Retrieving Status Updates\"\n```\n* ```channelId``` - the id of the channel\n* ```fieldId``` - the field number, min: 1 and max: 8\n* ```query``` - the optional parameters from api-description as key:value\n* ```callBack``` - the optional callback with error and response, response is an integer (most of the time -1 on failure or an object with the requested data\n\nAll methods are using the json-request-url from the server. The response is not interpreted by the client at the moment and given as the second parameter to the callback.\n\n### Other requests\n```\nclient.listPublicChannels(query, callback); - same as API-Method \"Listing Public Channels\"\nclient.listUserInfo(user, query, callback); - same as API-Method \"Listing User Information\"\nclient.listUserChannels(user, query, callback); - same as API-Method \"Listing a User’s Channels\"\n```\n\n## Tests\nThe tests are using ```mocha```, ```should``` and ```sinon```.\n\n## Licence\nThe licence is GPL v3 and the module is available at [Bitbucket](https://bitbucket.org/iwg/thingspeakclient_node) and [GitHub](https://github.com/imwebgefunden/thingspeakclient_node).",
  "readmeFilename": "readme.md",
  "_id": "thingspeakclient@0.4.0",
  "_from": "thingspeakclient@"
}
